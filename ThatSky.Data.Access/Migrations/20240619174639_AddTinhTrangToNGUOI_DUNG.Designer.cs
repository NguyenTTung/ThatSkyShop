// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using ThatSky.Data.Access.Data;

#nullable disable

namespace ThatSky.Data.Access.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    [Migration("20240619174639_AddTinhTrangToNGUOI_DUNG")]
    partial class AddTinhTrangToNGUOI_DUNG
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.0")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("ThatSky.Model.CHI_TIET_GIO_HANG", b =>
                {
                    b.Property<int>("MaCTGH")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaCTGH"));

                    b.Property<int>("MaGioHang")
                        .HasColumnType("int");

                    b.Property<int>("MaSP")
                        .HasColumnType("int");

                    b.Property<int>("SoLuong")
                        .HasColumnType("int");

                    b.HasKey("MaCTGH");

                    b.HasIndex("MaGioHang");

                    b.HasIndex("MaSP");

                    b.ToTable("db_CHI_TIET_GIO_HANG");
                });

            modelBuilder.Entity("ThatSky.Model.DANH_MUC", b =>
                {
                    b.Property<int>("MaDanhMuc")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaDanhMuc"));

                    b.Property<string>("TenDanhMuc")
                        .IsRequired()
                        .HasMaxLength(40)
                        .HasColumnType("nvarchar(40)");

                    b.HasKey("MaDanhMuc");

                    b.ToTable("db_DANH_MUC");
                });

            modelBuilder.Entity("ThatSky.Model.DS_HINH_ANH", b =>
                {
                    b.Property<int>("MaDSHinhAnh")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaDSHinhAnh"));

                    b.Property<int>("MaSP")
                        .HasColumnType("int");

                    b.Property<string>("MediaHinhAnh")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("MaDSHinhAnh");

                    b.HasIndex("MaSP");

                    b.ToTable("db_DS_MEDIA_HINH_ANH");
                });

            modelBuilder.Entity("ThatSky.Model.GIO_HANG", b =>
                {
                    b.Property<int>("MaGioHang")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaGioHang"));

                    b.Property<int>("MaNguoiDung")
                        .HasColumnType("int");

                    b.HasKey("MaGioHang");

                    b.HasIndex("MaNguoiDung");

                    b.ToTable("db_GIO_HANG");
                });

            modelBuilder.Entity("ThatSky.Model.HOA_DON", b =>
                {
                    b.Property<int>("MaHD")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaHD"));

                    b.Property<string>("DiaChi")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("GhiChu")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("MaGioHang")
                        .HasColumnType("int");

                    b.Property<DateTime>("NgayTao")
                        .HasColumnType("datetime2");

                    b.Property<string>("SoDienThoai")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("TenND")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<byte>("TrangThai")
                        .HasColumnType("tinyint");

                    b.HasKey("MaHD");

                    b.HasIndex("MaGioHang");

                    b.ToTable("db_HOA_DON");
                });

            modelBuilder.Entity("ThatSky.Model.NGUOI_DUNG", b =>
                {
                    b.Property<int>("MaND")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaND"));

                    b.Property<string>("DiaChi")
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("Email")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("MatKhau")
                        .IsRequired()
                        .HasMaxLength(25)
                        .HasColumnType("nvarchar(25)");

                    b.Property<DateTime>("NgaySinh")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("NgayTao")
                        .HasColumnType("datetime2");

                    b.Property<bool>("PhanQuyen")
                        .HasColumnType("bit");

                    b.Property<string>("SoDienThoai")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("nvarchar(10)");

                    b.Property<string>("TenND")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("TenTaiKhoan")
                        .IsRequired()
                        .HasMaxLength(25)
                        .HasColumnType("nvarchar(25)");

                    b.Property<byte>("TinhTrang")
                        .HasColumnType("tinyint");

                    b.Property<bool>("TrangThai")
                        .HasColumnType("bit");

                    b.HasKey("MaND");

                    b.ToTable("db_NGUOI_DUNG");
                });

            modelBuilder.Entity("ThatSky.Model.SAN_PHAM", b =>
                {
                    b.Property<int>("MaSP")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("MaSP"));

                    b.Property<double>("Gia")
                        .HasColumnType("float");

                    b.Property<int>("MaDanhMuc")
                        .HasColumnType("int");

                    b.Property<string>("MoTa")
                        .HasMaxLength(5000)
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("NgayTao")
                        .HasColumnType("datetime2");

                    b.Property<int>("SoLuong")
                        .HasColumnType("int");

                    b.Property<string>("TenSP")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool>("TrangThai")
                        .HasColumnType("bit");

                    b.HasKey("MaSP");

                    b.HasIndex("MaDanhMuc");

                    b.ToTable("db_SAN_PHAM");
                });

            modelBuilder.Entity("ThatSky.Model.CHI_TIET_GIO_HANG", b =>
                {
                    b.HasOne("ThatSky.Model.GIO_HANG", "GIO_HANG")
                        .WithMany("CHI_TIET_GIO_HANG")
                        .HasForeignKey("MaGioHang")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("ThatSky.Model.SAN_PHAM", "SAN_PHAM")
                        .WithMany()
                        .HasForeignKey("MaSP")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("GIO_HANG");

                    b.Navigation("SAN_PHAM");
                });

            modelBuilder.Entity("ThatSky.Model.DS_HINH_ANH", b =>
                {
                    b.HasOne("ThatSky.Model.SAN_PHAM", "SAN_PHAM")
                        .WithMany("db_DS_HINH_ANH")
                        .HasForeignKey("MaSP")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("SAN_PHAM");
                });

            modelBuilder.Entity("ThatSky.Model.GIO_HANG", b =>
                {
                    b.HasOne("ThatSky.Model.NGUOI_DUNG", "NGUOI_DUNG")
                        .WithMany()
                        .HasForeignKey("MaNguoiDung")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("NGUOI_DUNG");
                });

            modelBuilder.Entity("ThatSky.Model.HOA_DON", b =>
                {
                    b.HasOne("ThatSky.Model.GIO_HANG", "GIO_HANG")
                        .WithMany()
                        .HasForeignKey("MaGioHang")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("GIO_HANG");
                });

            modelBuilder.Entity("ThatSky.Model.SAN_PHAM", b =>
                {
                    b.HasOne("ThatSky.Model.DANH_MUC", "DANH_MUC")
                        .WithMany()
                        .HasForeignKey("MaDanhMuc")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("DANH_MUC");
                });

            modelBuilder.Entity("ThatSky.Model.GIO_HANG", b =>
                {
                    b.Navigation("CHI_TIET_GIO_HANG");
                });

            modelBuilder.Entity("ThatSky.Model.SAN_PHAM", b =>
                {
                    b.Navigation("db_DS_HINH_ANH");
                });
#pragma warning restore 612, 618
        }
    }
}
